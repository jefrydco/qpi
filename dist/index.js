!function(e,t){for(var r in t)e[r]=t[r]}(exports,function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";var n=this&&this.__assign||function(){return(n=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},o=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function u(e){try{a(n.next(e))}catch(e){i(e)}}function s(e){try{a(n.throw(e))}catch(e){i(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(u,s)}a((n=n.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var r,n,o,i,u={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;u;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return u.label++,{value:i[1],done:!1};case 5:u.label++,n=i[1],i=[0];continue;case 7:i=u.ops.pop(),u.trys.pop();continue;default:if(!(o=(o=u.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){u=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){u.label=i[1];break}if(6===i[0]&&u.label<o[1]){u.label=o[1],o=i;break}if(o&&u.label<o[2]){u.label=o[2],u.ops.push(i);break}o[2]&&u.ops.pop(),u.trys.pop();continue}i=t.call(e,u)}catch(e){i=[6,e],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},u=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],u=0,s=i.length;u<s;u++,o++)n[o]=i[u];return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(r(1)),c=s(r(2)),l=function(){function e(e){if(void 0===e&&(e={query:!0,body:!0}),this._server=a.default.createServer(),e.body&&this._server.use(a.default.plugins.bodyParser()),e.query&&this._server.use(a.default.plugins.queryParser()),e.cors){var t=r(3)(e.cors);this._server.pre(t.preflight),this._server.use(t.actual)}this.extended=n({},e.extend||{})}return e.prototype._handle=function(e){var t=this;return function(r,n,u){return o(t,void 0,void 0,(function(){var t,o,s=this;return i(this,(function(i){switch(i.label){case 0:t=new Proxy(new c.default(r,n,u),{get:function(e,t){return"$"===t?e.$:"$"===t[0]?e.$[t.slice(1)]:s.extended[t]&&s.extended[t](e)||e[t]}}),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,e(t)];case 2:return i.sent(),[3,4];case 3:return o=i.sent(),console.log(o),t.internalServerError(),[3,4];case 4:return[2]}}))}))}},e.prototype.get=function(e){for(var t,r=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this._server).get.apply(t,u([e],n.map((function(e){return r._handle(e)}))))},e.prototype.post=function(e){for(var t,r=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this._server).post.apply(t,u([e],n.map((function(e){return r._handle(e)}))))},e.prototype.put=function(e){for(var t,r=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this._server).put.apply(t,u([e],n.map((function(e){return r._handle(e)}))))},e.prototype.del=function(e){for(var t,r=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this._server).del.apply(t,u([e],n.map((function(e){return r._handle(e)}))))},e.prototype.patch=function(e){for(var t,r=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this._server).patch.apply(t,u([e],n.map((function(e){return r._handle(e)}))))},e.prototype.listen=function(e,t,r){this._server.listen(e,t,r)},e.prototype.address=function(){return this._server.address()},e}();t.default=l},function(e,t){e.exports=require("restify")},function(e,t,r){"use strict";var n,o,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.Conflict=409]="Conflict",e[e.TooManyRequest=429]="TooManyRequest",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented"}(n=t.ResponseCode||(t.ResponseCode={})),function(e){e.BadRequest="BadRequest",e.Unauthorized="Unauthorized",e.Forbidden="Forbidden",e.NotFound="NotFound",e.Conflict="Conflict",e.TooManyRequest="TooManyRequest",e.InternalServerError="InternalServerError",e.NotImplemented="NotImplemented"}(o=t.ResponseCodeString||(t.ResponseCodeString={}));var u={},s=function(){function e(e,t,r){this._req=e,this._res=t,this._next=r}return Object.defineProperty(e.prototype,"id",{get:function(){return this._req.id()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"body",{get:function(){return this._req.body||{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"query",{get:function(){return"object"==typeof this._req.query?this._req.query:{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return u[this.id]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"params",{get:function(){return this._req.params},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){return this._req.headers},enumerable:!0,configurable:!0}),e.prototype.send=function(e,t,r){this._res.send(e,t,r),this.next(!0)},e.prototype.end=function(e,t,r){this._res.send(e,t,r),this.next(!1)},e.prototype.next=function(e){return!0===e||!1===e?(delete u[this.id],!0===e?this._next():this._next(e)):("object"==typeof e&&(u[this.id]=i(i({},this.$),e)),this._next())},e.prototype.badRequest=function(){this.end(n.BadRequest,{code:o.BadRequest,message:"Some fields are missing or invalid."})},e.prototype.unauthorized=function(){this.end(n.Unauthorized,{code:o.Unauthorized,message:"We don't know who you are."})},e.prototype.forbidden=function(){this.end(n.Forbidden,{code:o.Forbidden,message:"You can't do that."})},e.prototype.notFound=function(){this.end(n.NotFound,{code:o.NotFound,message:"This resource can't be found."})},e.prototype.conflict=function(){this.end(n.Conflict,{code:o.Conflict,message:"This resource already exists."})},e.prototype.tooManyRequest=function(){this.end(n.TooManyRequest,{code:o.TooManyRequest,message:"Try again later."})},e.prototype.internalServerError=function(){this.end(n.InternalServerError,{code:o.InternalServerError,message:"Something went wrong."})},e.prototype.notImplemented=function(){this.end(n.NotImplemented,{code:o.NotImplemented,message:"We haven't done that yet."})},e}();t.default=s},function(e,t){e.exports=require("restify-cors-middleware")}]));